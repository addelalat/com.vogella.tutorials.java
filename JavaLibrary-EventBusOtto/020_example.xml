<section id="exercise_okhttp">
	<title>Exercise: Using Otto the event bus system</title>

	<para>
		This is an example for the usage of Otto in an Android
		application
		but this library can also be used in standard Java
		applications.
	</para>
	<para>
		Create a new Android project called
		<code>com.vogella.java.library.otto</code>
		based on the
		<code>Blank Activity with Fragment</code>
		template.
	</para>

	<para>In case you are using the Eclipse IDE, download the Otto JAR and
		add them to the
		build path of your
		project.
	</para>
	<para>
		For Gradle users simply add the dependency to the
		<filename>build.gradle</filename>
		file.
	</para>

	<para>
		<programlisting language="java">
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="./examples/build.gradle" />
		</programlisting>
	</para>
	<para>
		The
		<code>activity_main.xml</code>
		layout file of the activity should look like the following.
	</para>

	<para>
		<programlisting language="java">
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="./examples/activity_main.xml" />
		</programlisting>
	</para>

	<para>
		The
		<code>fragment_main.xml</code>
		layout file of the fragment should look like the following.
	</para>


	<para>
		<programlisting language="java">
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="./examples/fragment_main.xml" />
		</programlisting>
	</para>
	<para>
		Add an fragment and add it dynamically to your activity.
		Send
		an event
		from the fragment to the activity and vice versa.
		Display in
		both case a
		<code>Toast</code>
		.
	</para>
	<para>
		<programlisting language="java">
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="./examples/MainActivity.java" />
		</programlisting>
	</para>
	<note>
		<para>
			The example is intentional simple. In a real Android application
			you
			would created the
			<code>Bus</code>
			singleton in the
			<code>Application</code>
			class and the fragment would be in its own file.
		</para>
	</note>


</section>
